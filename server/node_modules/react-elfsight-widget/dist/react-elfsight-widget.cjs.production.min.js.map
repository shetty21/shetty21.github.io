{"version":3,"file":"react-elfsight-widget.cjs.production.min.js","sources":["../src/useLoadPlatform.ts","../src/ElfsightWidget.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nconst PLATFORM_URL = 'https://static.elfsight.com/platform/platform.js';\n\nexport function useLoadPlatform() {\n  useEffect(() => {\n    const isPlatformLoaded =\n      'eapps' in window ||\n      !!document.querySelector(`script[src=\"${PLATFORM_URL}\"]`);\n\n    if (isPlatformLoaded) {\n      return;\n    }\n\n    const platformScript = document.createElement('script');\n    platformScript.src = PLATFORM_URL;\n    platformScript.dataset.testid = 'platform-script';\n\n    document.body.appendChild(platformScript);\n\n    // platform cannot be loaded twice on the sample page\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, []);\n}\n","import type { HTMLAttributes } from 'react';\nimport React, { memo, useEffect } from 'react';\nimport { useLoadPlatform } from './useLoadPlatform';\n\nexport interface ElfsightWidgetProps extends HTMLAttributes<HTMLDivElement> {\n  /**\n   * @deprecated since 1.1.0, please use widgetId instead\n   *\n   * Widget identifier (deprecated).\n   * Use `widgetId` instead.\n   */\n  widgetID?: never;\n\n  /**\n   * Widget identifier.\n   * The unique identifier for the widget, obtained from the installation code.\n   * Example: `elfsight-app-85d18ddb-c202-421e-9a88-6c099d7a7833` â†’ `85d18ddb-c202-421e-9a88-6c099d7a7833`.\n   */\n  widgetId: string;\n\n  /**\n   * Enables lazy loading.\n   * Accepts a boolean or a mode.\n   */\n  lazy?: boolean | NamedLazyMode;\n}\n\nexport type NamedLazyMode =\n  | `default`\n  | 'first-activity'\n  | 'in-viewport'\n  | 'disabled';\n\nexport const ElfsightWidget = memo(function ElfsightWidget({\n  widgetId,\n  widgetID,\n  lazy,\n  className,\n  ...forwardedProps\n}: ElfsightWidgetProps) {\n  useEffect(() => {\n    if (widgetID) {\n      console.debug(\n        'Note that widgetID is deprecated since version 1.1.0. Please use widgetId instead.'\n      );\n    }\n  }, [widgetID]);\n\n  useLoadPlatform();\n\n  const finalWidgetId = widgetId ?? widgetID;\n  const widgetClassName = `elfsight-app-${finalWidgetId}`;\n\n  let effectiveLazy: string | undefined;\n  if (typeof lazy === 'boolean') {\n    effectiveLazy = lazy ? 'default' : undefined;\n  } else {\n    effectiveLazy = lazy;\n  }\n\n  return (\n    <div\n      className={[widgetClassName, className].filter(Boolean).join(' ')}\n      data-elfsight-app-lazy={effectiveLazy}\n      {...forwardedProps}\n    />\n  );\n});\n"],"names":["PLATFORM_URL","memo","_ref","effectiveLazy","widgetId","widgetID","lazy","className","forwardedProps","_objectWithoutPropertiesLoose","_excluded","useEffect","console","debug","window","document","querySelector","platformScript","createElement","src","dataset","testid","body","appendChild","undefined","React","filter","Boolean","join"],"mappings":"oJAEMA,EAAe,uHC+BSC,QAAK,SAAuBC,OAoBpDC,EAnBJC,EAAQF,EAARE,SACAC,EAAQH,EAARG,SACAC,EAAIJ,EAAJI,KACAC,EAASL,EAATK,UACGC,oIAAcC,CAAAP,EAAAQ,GAsBjB,OApBAC,aAAU,WACJN,GACFO,QAAQC,MACN,wFAGH,CAACR,IDzCJM,aAAU,WAKR,KAHE,UAAWG,UACTC,SAASC,6BAA6BhB,QAE1C,CAIA,IAAMiB,EAAiBF,SAASG,cAAc,UAC9CD,EAAeE,IAAMnB,EACrBiB,EAAeG,QAAQC,OAAS,kBAEhCN,SAASO,KAAKC,YAAYN,MAIzB,ICiCDd,EADkB,kBAATG,EACOA,EAAO,eAAYkB,EAEnBlB,EAIhBmB,qCACElB,UAAW,kBAZOH,MAAAA,EAAAA,EAAYC,GAYDE,GAAWmB,OAAOC,SAASC,KAAK,8BACrCzB,GACpBK"}